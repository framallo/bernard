%h1 Show Transaction

%legend{align: "left"}Show Transaction 
%p
  %strong Account: 
  = @transaction.account_id
  = @transaction.account.try(:name)
  %strong Currency Code: 
  = @transaction.account.currency_code  if @transaction.account_id

%p
  %strong Created at:
  = @transaction.created_at.to_s(:date_and_time) 

%p
  %strong Payee:
  = @transaction.payee_id
  = @transaction.payee_name

%p
  %strong Cleared:
  =cleared_icon @transaction.cleared

%p
  %strong Amount:
  = money @transaction.amount

%p
  - @transaction.splits.each do |split|
    %br/
    %ul
      %li 
        %strong Category:        
        = split.category.name
      %li  
        %strong Amount:        
        = money split.amount
      %li
        %strong Department:
        = split.class_id
        = split.department.name
      %li
        %strong Memo:
        = split.memo
      %li
        %strong Transfer To:
        = split.transfer_to_account_id
      %li
        %strong Currency:
        = split.currency_code

%table.table-bordered
  %thead
    %tr
      %th.split Category
      %th.split Amount
      %th.split Department
      %th.split DepartmentName
      %th.split Memo
      %th.split Transfer
      %th.split Currency

  %tbody
    - @transaction.splits.each do |split|
      %tr
        %td= split.category.name
        %td= money split.amount
        %td.text-center= split.class_id
        %td= split.department.name
        %td= split.memo
        %td.text-center= split.transfer_to_account_id
        %td= split.currency_code
      %br/
%br/

= link_to 'Edit', edit_transaction_path(@transaction) 
|
= link_to 'Back', transactions_path

